#:kivy 1.0.9
<WorldMap>:
    canvas:
		Rectangle:
            source: 'images/grass.png'
            size: root.size
<Castle>:
	Widget:
		size: (100, 100)
		pos: (self.x, self.y)

<CastleInfo>:
	title: "Castle Information"
	auto_dismiss: True
	size_hint: (0.8, 0.6)
	pos: self.pos
	
	box_layout: box_layout
	levelup_button: levelup_button
	close_button: close_button
	
	BoxLayout:
		id: box_layout
		orientation: 'vertical'
		
		BoxLayout:
			orientation: 'horizontal'

			BoxLayout:
				orientation: 'vertical'

				BoxLayout:
					orientation: 'horizontal'
					Label:
						height: 150
						font_size: 15
						text_size: (self.width - 20, None)
						text: "Level : "
					Label:
						font_size: 15
						text: str(root.castle.level)
				BoxLayout:
					orientation: 'horizontal'
					Label:
						height: 150
						font_size: 15
						text_size: (self.width - 20, None)
						text: "To Upgrade : "
					Label:
						font_size: 15
						text: str(root.castle.level * 5)

			Button:
				id: levelup_button
				text: "Level Up"
				pos: box_layout.pos
				size_hint: (0.8, 0.8)
				size: (box_layout.width, box_layout.height)
		BoxLayout:
			orientation: 'horizontal'
			Label:
				height: 150
				font_size: 15
				text_size: (self.width - 20, None)
				text: "Available ressources : "
			Label:
				font_size: 15
				text: str(root.castle.ressources)

		Button:
			id: close_button
			text: "Close"
			pos: box_layout.pos
			size_hint: (None, None)
			size: (box_layout.width, 30)

<InCastle>:
	boisLabel: boislabel
	ferLabel: ferlabel
	nourritureLabel: nourriturelabel
    canvas:
		Rectangle:
            source: 'images/inside.jpg'
            size: root.size
			
    Button:
		text:"Construction"
		font_size: 20
		height: root.height/5
		width: root.width/5
		on_press: root.ouvrirMenuConstruction()

	Label:
		text:"Bois :"
		font_size: 20
		id: boistext
		pos: (0, 100)
	Label: 
		text:str(root.bois)
		font_size: 20
		id: boislabel
		pos: (100, 100)
	Label:
		text:"Fer :"
		font_size: 20
		id: fertext
		pos: (0, 200)
	Label:
		text:str(root.fer)
		font_size: 20
		id: ferlabel
		pos: (100, 200)
	Label:
		text:"Nourriture :"
		font_size: 20
		id: nourrituretext
		pos: (0, 300)
	Label:
		text:str(root.nourriture)
		font_size:20
		id: nourriturelabel
		pos: (100, 300)
		
	Carousel: 
		id: carousel
		loop: True
		height: root.height/2
		width: root.width/2
		pos: (root.width/2, root.height/2)
		
		canvas:
			Color:
				rgb: (.6, .6, .6, 1)
			Rectangle:
				pos: self.x, self.y
				size: self.width, self.height
				
		BoxLayout:
			orientation:"vertical"	
			Image:
	    		source: 'images/ferme.png'
	    		size: root.size
	    	
	    	Label:
	    		text: "Fermes : " + str(root.nbFermes)
	    	
        BoxLayout:
			orientation:"vertical"	
			Image:
		        source: 'images/mine.png'
		        size: root.size
            
            Label:
	    		text: "Mines : " + str(root.nbMines)
	    	
		BoxLayout:
			orientation:"vertical"		
			Image:
		        source: 'images/scierie.png'
		        size: root.size
            
            Label:
	    		text: "Scieries : " + str(root.nbScieries)
	    	
	    BoxLayout:
			orientation:"vertical"			
			Image:
		        source: 'images/caserne.png'
		        size: root.size
            
            Label:
	    		text: "Casernes : " + str(root.nbCasernes)
	    	
	    	
	    	Button: 
	    		text: "Former soldat(10 Nourriture)"
	    		pos: (300, 0)
	    		on_press:root.formerSoldat()
	    		
	Image:
		source: 'images/chevalier.png'
		pos: (root.width-500, 0)
		
	Label:
		text: str(root.nbSoldats) + " / " + str(root.nbSoldatsMax)
		pos: (root.width-325, 0)
		font_size: 100
		
	Button: 
		font_size: 20
		text:"Attaquer"
		pos:(0, root.height-100)
		height: root.height/5
		width: root.width/5
		on_press: root.ouvrirMenuAttaque()
		
	
		
<PlacementBatiment>:
	canvas:
		Rectangle: 
			size: root.size
